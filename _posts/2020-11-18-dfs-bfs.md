---
title: DFS(깊이 우선 탐색)와 BFS(너비 우선 탐색)
toc: true
toc_label: 목차
category:
- Algorithm
tag:
- algorithm
- javascript
- DFS
- BFS
---

DFS와 BFS는 그래프 탐색 알고리즘이다.

- 그래프? 정점과 간선으로 이루어진 자료구조의 일종. G = (V, E)

- 그래프 탐색? 하나의 정점으로부터 시작하여 차례대로 모든 정점들을 한 번씩 방문하는 것

DFS는 스택을 사용하고, BFS는 큐를 사용한다.

구현에 있어서, 인접행렬 또는 인접리스트를 통해 구현할 수 있다.


최단 거리 문제나 가중치가 1인(비가중치) 그래프 문제를 푼다면 BFS를 사용하고, 

이동과정에 여러 제약이 있다면 DFS로 구현하는 것이 좋다.


# DFS (Depth-First Search, 깊이 우선 탐색)
트리나 그래프에서, 한 루트로 탐색하다가 특정 상황에서 최대한 깊숙히 들어가서 확인한 뒤 다시 돌아가 다른 루트로 탐색하는 방법이다. 

대표적으로 **백트래킹**에 사용된다.

일반적으로 **재귀호출**을 사용하여 구현하지만, 단순한 **스택(Stack)** 배열로 구현하기도 한다. 

구조상 스택 오버플로우를 유의해야 한다.


## DFS의 동작 방법

1. 갈림길이 나타날 때마다 '다른 길이 있다'는 정보만 기록하면서 자신이 지나간 길을 지워나간다. 
2. 그러다 막다른 곳에 도달하면 직전 갈림길까지 돌아가면서 '이 길은 아님'이라는 표식을 남긴다. 
3. 그렇게 갈림길을 순차적으로 탐색해 나가다 목적지를 발견하면 그대로 해답을 내고 종료.

미로 찾기를 생각하면 이해하기 쉽다.

## DFS의 특징

단순 검색 속도 자체는 BFS에 비해서 느리고, BFS보다 간단하다.

하지만 검색이 아닌 모든 **노드를 방문하고자 하는 경우(트리 순회..)** 많이 쓰인다.

DFS는 리프 노드에만 데이터를 저장하는 정렬 트리 구조에서 항상 순서대로 데이터를 방문한다는 장점이 있다. 

백트래킹에 사용되는 이유도 공통 상위를 가지는 아래 리프 노드들을 한방에 잘라 내 버리는게 가능하기 때문이다.

DFS를 잘만 이용하면 방향 있는 그래프에서 사이클(cycle)이 있는지 판단하는 것도 가능하다. 

즉 어떤 한 임의의 노드에서 길을 따라 가보면 자기 자신으로 돌아올 수 있는 경로가 있는지 확인할 수 있다.

<h4>장점 </h4>

- 단지 현 경로상의 노드들만을 기억하면 되므로 저장 공간의 수요가 비교적 적다.
- 목표 노드가 깊은 단계에 있을 경우 해를 빨리 구할 수 있다.


<h4>단점</h4>

- 해가 없는 경로에 깊이 빠질 가능성이 있다.
- 얻어진 해가 최단 경로가 된다는 보장이 없다. 이는 목표에 이르는 경로가 다수인 문제에 대해 깊이우선 탐색은 해에 다다르면 탐색을 끝내버리므로, 이때 얻어진 해는 최적이 아닐 수 있다는 의미이다.

<br>

### 깊이 제한과 백트래킹

탐색 과정이 시작 노드에서 한없이 깊이 진행되는 것을 막기 위해 **깊이 제한(depth bound)**을 사용한다. 

깊이 제한에 도달할 때까지 목표노드가 발견되지 않으면 최근에 첨가된 노드의 부모노드로 되돌아와서, 부모노드에 이전과는 다른 동작자를 적용하여 새로운 자식노드를 생성한다.

여기서 부모노드로 되돌아오는 과정을 **백트래킹(backtracking)**이라 한다.


# BFS (Breadth-First Search, 너비 우선 탐색)

시작 정점을 방문한 후 시작 정점에 인접한 모든 정점들을 우선 방문하는 방법이다. 

더 이상 방문하지 않은 정점이 없을 때까지 방문하지 않은 모든 정점들에 대해서도 너비 우선 검색을 적용한다.

BFS는 재귀적으로 동작하지 않고, 다음에 탐색할 정점들을 **큐(Queue)**에 저장하는 방식으로 구현한다.


## BFS의 동작 방법
1. 큐에 시작 노드를 넣는다.(이때, 큐에 넣는 동시에 방문했다고 체크)
2. 큐의 앞에서 노드를 하나 꺼낸다.
3. 큐에서 꺼낸 노드와 인접한 노드들(자식 노드들)을 모두 차례로 큐에 넣는다(방문한다).
4. 인접한 노드가 없다면 큐의 앞에서 노드를 꺼낸다.
5. 큐가 소진될때까지 반복한다.


## BFS의 특징

그래프 탐색의 경우 무한루프에 빠질 위험성이 있기 때문에, 어떤 노드를 방문했었는지 여부를 반드시 검사 해야 한다. 

다익스트라(Dijkstra) 알고리즘이 BFS의 발전형이다.
<br>


<h4>장점</h4>

- 답이 되는 경로가 여러 개인 경우에도 출발노드에서 목표노드까지의  최단 경로를 보장한다.


<h4>단점</h4>

- 경로가 매우 길 경우에는 탐색 가지가 급격히 증가하여 보다 많은 기억 공간을 필요로 하게 된다.
- 해가 존재하지 않는다면 유한 그래프(finite graph)의 경우에는 모든 그래프를 탐색한 후에 실패로 끝난다.
- 무한 그래프(infinite graph)의 경우에는 결코 해를 찾지도 못하고, 끝내지도 못한다.

<br><br>

Reference
- [나무위키 DFS](https://namu.wiki/w/%EA%B9%8A%EC%9D%B4%20%EC%9A%B0%EC%84%A0%20%ED%83%90%EC%83%89?from=DFS)
- [wikipedia DFS](https://ko.wikipedia.org/wiki/%EA%B9%8A%EC%9D%B4_%EC%9A%B0%EC%84%A0_%ED%83%90%EC%83%89)
- [wikipedia BFS](https://ko.wikipedia.org/wiki/%EB%84%88%EB%B9%84_%EC%9A%B0%EC%84%A0_%ED%83%90%EC%83%89)
